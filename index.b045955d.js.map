{"mappings":"YAAA,IAAMA,EAASC,SAASC,cAAc,gBAChCC,EAAcF,SAASC,cAAc,6BACrCE,EAAeH,SAASC,cAAc,YAEtCG,GADYJ,SAASC,cAAc,WACrBD,SAASC,cAAc,eAW3CG,EAAYC,UAAUC,IAAI,aAI1B,IAIIC,EAAc,EACdC,EAAc,GAElB,SAASC,EAAcC,GAEnB,OAAOC,MAAM,GAAmBC,OATnB,2BASY,SAAoBA,OARjC,qCAQ4B,OAA6FA,OAAxFF,EAAY,8EAAwFE,OAAZL,IACpIM,MAAO,SAACC,GACL,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAMF,EAASG,QAE3B,OAAOH,EAASI,UA8ExB,SAASC,EAAWC,GAChB,IAAMC,EANV,SAAwBD,GACpB,OAAOA,EAAME,QAAO,SAACC,EAAKC,G,OAASD,EAzBvC,SAA4BC,GACxB,MAAO,2CACgCZ,OAA3BY,EAAKC,aAAa,WAIlBb,OAJ2BY,EAAKE,KAAK,kHAQrCd,OAJAY,EAAKG,MAAM,0FAQXf,OAJAY,EAAKI,MAAM,6FAQXhB,OAJAY,EAAKK,SAAS,8FAICjB,OAAfY,EAAKM,UAAU,6CAOcC,CAAkBP,KAAO,IAKnDQ,CAAcZ,GAC7BjB,EAAa8B,mBAAmB,YAAaZ,GAzEjDtB,EAAOmC,iBAAiB,UAGxB,SAAwBC,GACpBA,EAAEC,iBACFjC,EAAakC,UAAY,GAEzB7B,EAAcN,EAAYoC,MAE1B/B,EAAc,EACdH,EAAYC,UAAUkC,OAAO,aAE7B9B,EAAaD,GAAaK,MAAK,SAAA2B,GAK3BC,QAAQC,IAAIF,GACZrB,EAAUqB,EAAKG,MACfpC,GAAc,EACdH,EAAYC,UAAUkC,OAAO,gBAEhCK,OAAM,SAAAC,G,OAAUJ,QAAQC,IAAIG,SArBjCzC,EAAY8B,iBAAiB,SA0B7B,SAAuBC,GACnBA,EAAEC,iBACF3B,EAAaD,GAAaK,MAAK,SAAA2B,GAE3BC,QAAQC,IAAIF,GACZrB,EAAUqB,EAAKG,MACfpC,GAAc,KAGjBqC,OAAM,SAAAC,G,OAAUJ,QAAQC,IAAIG,S","sources":["src/index.js"],"sourcesContent":["const formEl = document.querySelector('.search-form');\nconst inputSearch = document.querySelector('input[name=\"searchQuery\"]');\nconst divGalleryEl = document.querySelector('.gallery');\nconst btnSubmit = document.querySelector('.submit');\nconst btnLoadMore = document.querySelector('.load-more');\n// console.log(btnLoadMore);\n// console.log(btnLoadMore.classList);\n\n\n\n\n// import API from './js/fetchGallery';\n\n\n\nbtnLoadMore.classList.add('is-hidden');\n\n\n\nconst BASE_URL = 'https://pixabay.com/api/';\nconst API_KEY = '29230862-8ed88c62e82238b6e063c75d0'\n\n\nlet currentPage = 1;\nlet searchQuery = '';\n\nfunction fetchGallery (searchQuery) {\n  \n    return fetch(`${BASE_URL}?key=${API_KEY}&q=${searchQuery}&image_type=photo&orientation=horizontal&safesearch=true&per_page=40&page=${currentPage}`)\n    .then(  (response) => {\n        if (!response.ok) {\n          throw new Error(response.status);\n        }\n        return response.json();\n      })\n    \n    \n};\n\n\nformEl.addEventListener('submit', onSearchSubmit);\nbtnLoadMore.addEventListener('click', onLoadMoreImg);\n\nfunction onSearchSubmit(e) {\n    e.preventDefault();\n    divGalleryEl.innerHTML = \"\";\n\n    searchQuery = inputSearch.value;\n\n    currentPage = 1;\n    btnLoadMore.classList.remove('is-hidden');\n\n    fetchGallery(searchQuery).then(data => {\n      \n    \n\n        \n        console.log(data);\n        addMarkup(data.hits);\n        currentPage +=1;\n        btnLoadMore.classList.remove('is-hidden');\n    })\n    .catch(error => (console.log(error)));\n\n\n};\n\nfunction onLoadMoreImg(e){\n    e.preventDefault();\n    fetchGallery(searchQuery).then(data => {\n        \n        console.log(data);\n        addMarkup(data.hits);\n        currentPage +=1;\n      \n    })\n    .catch(error => (console.log(error)));\n};\n\n\n\n\nfunction createGalleryItem (item) {\n    return `<div class=\"photo-card\">\n    <img src=\"${item.webformatURL}\" alt=\"${item.tags}\" loading=\"lazy\" />\n    <div class=\"info\">\n      <p class=\"info-item\">\n        <b>Likes</b>\n        <span>${item.likes}</span>\n      </p>\n      <p class=\"info-item\">\n        <b>Views</b>\n        <span>${item.views}</span>\n      </p>\n      <p class=\"info-item\">\n        <b>Comments</b>\n        <span>${item.comments}</span>\n      </p>\n      <p class=\"info-item\">\n        <b>Downloads</b>\n        <span>${item.downloads}</span>\n      </p>\n    </div>\n  </div>`\n};\n\nfunction createGallery (array) {\n    return array.reduce((acc, item) => acc + createGalleryItem(item), \"\")\n};\n\n\nfunction addMarkup (array) {\n    const result = createGallery(array);\n    divGalleryEl.insertAdjacentHTML('beforeend', result);\n\n};\n\n"],"names":["$b8f9b7833fa37166$var$formEl","document","querySelector","$b8f9b7833fa37166$var$inputSearch","$b8f9b7833fa37166$var$divGalleryEl","$b8f9b7833fa37166$var$btnLoadMore","classList","add","$b8f9b7833fa37166$var$currentPage","$b8f9b7833fa37166$var$searchQuery","$b8f9b7833fa37166$var$fetchGallery","searchQuery1","fetch","concat","then","response","ok","Error","status","json","$b8f9b7833fa37166$var$addMarkup","array","result","reduce","acc","item","webformatURL","tags","likes","views","comments","downloads","$b8f9b7833fa37166$var$createGalleryItem","$b8f9b7833fa37166$var$createGallery","insertAdjacentHTML","addEventListener","e","preventDefault","innerHTML","value","remove","data","console","log","hits","catch","error"],"version":3,"file":"index.b045955d.js.map"}